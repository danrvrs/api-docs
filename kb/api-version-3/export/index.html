<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Official documentation for the Pardot API">
        
        <link rel="canonical" href="http://developer.pardot.com/kb/api-version-3/export/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Export API (for Visitor Activity) - Pardot API Documentation</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            // Current page data
            var mkdocs_page_name = "Export API (for Visitor Activity)";
            var mkdocs_page_input_path = "kb/api-version-3/export.md";
            var mkdocs_page_url = "/kb/api-version-3/export/";
        </script>
        

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Pardot API Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                
                    <li >
                        <a href="../../..">Overview</a>
                    </li>
                
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li class=" ">
                                <a href="../../release-notes/">
                                    
                                    Release Notes
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/">
                                    
                                    Version 4
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../object-field-references/">
                                    
                                    Object Field References
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../error-codes-messages/">
                                    
                                    Error Codes & Messages
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../bulk-data-pull/">
                                    
                                    Bulk Data Pull
                                    
                                </a>
                            </li>
                        
                        </ul>
                    </li>
                
            
            
            
            
            
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version 3 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li class=" ">
                                <a href="../accounts/">
                                    
                                    Accounts
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../campaigns/">
                                    
                                    Campaigns
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../custom-fields/">
                                    
                                    Custom Fields
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../custom-redirects/">
                                    
                                    Custom Redirects
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../dynamic-content/">
                                    
                                    Dynamic Content
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../emails/">
                                    
                                    Email
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../batch-email-clicks/">
                                    
                                    Email Clicks
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../email-templates/">
                                    
                                    Email Templates
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../forms/">
                                    
                                    Forms
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../lifecycle-histories/">
                                    
                                    Lifecycle Histories
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../lifecycle-stages/">
                                    
                                    Lifecycle Stages
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../lists/">
                                    
                                    Lists
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../list-memberships/">
                                    
                                    List Memberships
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../opportunities/">
                                    
                                    Opportunities
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../prospects/">
                                    
                                    Prospects
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../prospect-accounts/">
                                    
                                    Prospect Accounts
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../tags/">
                                    
                                    Tags
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../tag-objects/">
                                    
                                    TagObjects
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../users/">
                                    
                                    Users
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../visitors/">
                                    
                                    Visitors
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../visitor-activities/">
                                    
                                    Visitor Activities
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../visits/">
                                    
                                    Visits
                                    
                                </a>
                            </li>
                        
                            <li class=" separator-above">
                                <a href="../import/">
                                    
                                    Import API (for Prospects)
                                    
                                </a>
                            </li>
                        
                            <li class="active ">
                                <a href="./">
                                    
                                    Export API (for Visitor Activity)
                                    
                                </a>
                            </li>
                        
                        </ul>
                    </li>
                
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version 4 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li class=" ">
                                <a href="../../api-version-4/accounts/">
                                    
                                    Accounts
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/campaigns/">
                                    
                                    Campaigns
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/custom-fields/">
                                    
                                    Custom Fields
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/custom-redirects/">
                                    
                                    Custom Redirects
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/dynamic-content/">
                                    
                                    Dynamic Content
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/emails/">
                                    
                                    Email
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/batch-email-clicks/">
                                    
                                    Email Clicks
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/email-templates/">
                                    
                                    Email Templates
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/forms/">
                                    
                                    Forms
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/lifecycle-histories/">
                                    
                                    Lifecycle Histories
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/lifecycle-stages/">
                                    
                                    Lifecycle Stages
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/lists/">
                                    
                                    Lists
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/list-memberships/">
                                    
                                    List Memberships
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/opportunities/">
                                    
                                    Opportunities
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/prospects/">
                                    
                                    Prospects
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/prospect-accounts/">
                                    
                                    Prospect Accounts
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/tags/">
                                    
                                    Tags
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/tag-objects/">
                                    
                                    TagObjects
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/users/">
                                    
                                    Users
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/visitors/">
                                    
                                    Visitors
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/visitor-activities/">
                                    
                                    Visitor Activities
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/visits/">
                                    
                                    Visits
                                    
                                </a>
                            </li>
                        
                            <li class=" separator-above">
                                <a href="../../api-version-4/import/">
                                    
                                    Import API (for Prospects)
                                    
                                </a>
                            </li>
                        
                            <li class=" ">
                                <a href="../../api-version-4/export/">
                                    
                                    Export API (for Visitor Activity)
                                    
                                </a>
                            </li>
                        
                        </ul>
                    </li>
                
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li>
                    <a href="#mkdocs_search_modal" data-toggle="modal"><i class="fa fa-search"></i> Search</a>
                </li>
                
                
                <li>
                    <a rel="next" href="../import/">
                    <i class="fa fa-arrow-left"></i>
                    
                    Import API (for Prospects)
                    
                    </a>
                </li>
                
                
                <li>
                    <a rel="prev" href="../../api-version-4/accounts/">
                    
                    Accounts
                    
                    <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/Pardot/api-docs/" target="_blank">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#export-api-overview">Export API Overview</a></li>
        <li class="main "><a href="#when-to-use-the-export-api">When to Use the Export API</a></li>
        <li class="main "><a href="#how-the-export-api-works">How the Export API Works</a></li>
        <li class="main "><a href="#limitations">Limitations</a></li>
        <li class="main "><a href="#expiration">Expiration</a></li>
        <li class="main "><a href="#csv-file-formatting">CSV File Formatting</a></li>
        <li class="main "><a href="#procedures">Procedures</a></li>
            <li><a href="#visitor-activity">Visitor Activity</a></li>
            <li><a href="#filter_by_created_at">filter_by_created_at</a></li>
        <li class="main "><a href="#using-the-export-api">Using the Export API</a></li>
        <li class="main "><a href="#create">Create</a></li>
            <li><a href="#post">POST</a></li>
        <li class="main "><a href="#read">Read</a></li>
            <li><a href="#get">GET</a></li>
        <li class="main "><a href="#query">Query</a></li>
            <li><a href="#get_1">GET</a></li>
        <li class="main "><a href="#download-results">Download Results</a></li>
            <li><a href="#get_2">GET</a></li>
        <li class="main "><a href="#enums">Enums</a></li>
            <li><a href="#export-state">Export State</a></li>
    </ul>
</div></div>
            <div class="col-md-9 main-content" role="main">
                
                    <h1 id="export-api-overview">Export API Overview</h1>
<p>The Export API provides a way to retrieve large volumes of data from Pardot. It uses Pardot's existing API structures, patterns, and terminology.</p>
<h1 id="when-to-use-the-export-api">When to Use the Export API</h1>
<p>Use the Export API to retrieve large sets of data when you don't need synchronous completion responses or when query limitations are too restrictive. Currently, only visitor activity is supported.</p>
<h1 id="how-the-export-api-works">How the Export API Works</h1>
<p>An export is associated with a query and a data set in Pardot. When you create an export, the query is split into smaller queries, which return smaller sets of data. These smaller queries are processed in parallel, and the retrieved data is saved in CSV files. When the export is complete, the CSV files are available to download.</p>
<p>The order of the records returned in the CSV files is not guaranteed. The number of records in each CSV file varies, and all of the files associated with an export make up the full data set for the query.</p>
<p>The Export resource is used to create an export and get the status of an export. When the export is complete, the links to the CSV files containing the data are available in the resource.</p>
<h1 id="limitations">Limitations</h1>
<ul>
<li>The Export API is subject to the daily Pardot API call limit and the concurrent Pardot API call limit for your account.</li>
<li>Export API calls are executed sequentially for each account, with older exports being processed before newer exports.</li>
</ul>
<h1 id="expiration">Expiration</h1>
<p>The data associated with an export expires after 7 days. When data expires, the Export resource removes links to the CSV files and shows that the export has expired. Attempts to retrieve the data after an export expires fail.</p>
<h1 id="csv-file-formatting">CSV File Formatting</h1>
<ul>
<li>The first row contains the name of the field.</li>
<li>The second row and beyond contain the record data.</li>
<li>Dates are returned in the user’s timezone at the time they created the export.<ul>
<li>For example, if a user is in “PST” timezone and creates an export, the dates in the export are in “PST”. If a second user is in “EST” timezone and downloads the exported files, the dates in the export are in “PST”.</li>
<li>If a user’s timezone changes, previous exports created by the user have dates formatted in the previous timezone. Dates in new exports use the new timezone.</li>
</ul>
</li>
<li>Dates are returned in the standard Pardot API date format of <code>YYYY-MM-DD HH:mm:SS</code>.</li>
<li>Fields with null values are represented as an empty value in CSV.</li>
</ul>
<h1 id="procedures">Procedures</h1>
<p>A procedure is a query and execution plan used to retrieve the data. Each object has a different set of procedures.</p>
<h2 id="visitor-activity">Visitor Activity</h2>
<h2 id="filter_by_created_at">filter_by_created_at</h2>
<p>Retrieves all visitor activity records with a <code>created_at</code> value that is equal or greater than the <code>created_after</code> argument and less than or equal to the <code>created_before</code> argument.</p>
<h3 id="abilities">Abilities</h3>
<table>
<thead>
<tr>
<th>Action</th>
<th>Requirements</th>
</tr>
</thead>
<tbody>
<tr>
<td>Create export</td>
<td>Prospects &gt; Visitors &gt; View ability</td>
</tr>
<tr>
<td>View export</td>
<td>Prospects &gt; Visitors &gt; View ability and be the same user that created the export</td>
</tr>
<tr>
<td>View all exports</td>
<td>Admin &gt; Exports &gt; View ability</td>
</tr>
<tr>
<td>Query exports</td>
<td>Admin &gt; Exports &gt; View ability</td>
</tr>
</tbody>
</table>
<p>To create an export with this procedure, the user must have the following:</p>
<ul>
<li>“Prospects &gt; Visitors &gt; View“ ability</li>
</ul>
<p>To view an export with this procedure, the user must have the following:</p>
<ul>
<li>“Prospects &gt; Visitors &gt; View“ ability AND</li>
<li>The user must be the same as the user that created the export</li>
</ul>
<p>OR</p>
<ul>
<li>“Admin &gt; Exports &gt; View”</li>
</ul>
<h3 id="arguments">Arguments</h3>
<ul>
<li><strong>created_after</strong>: Selects visitor activities that were created after the specified time. The value can be <code>today</code>, <code>yesterday</code>, <code>last_7_days</code>, <code>this_month</code>, <code>last_month</code>, or a custom time specified in <a href="http://www.gnu.org/software/tar/manual/html_node/Date-input-formats.html">GNU Date Input Syntax</a> format.</li>
<li><strong>created_before</strong>: (Optional) Selects visitor activities that were created before the specified time. This value must be after the value in <code>created_after</code>. If this argument is not specified, then no upper boundary is used in the query, and all data after the <code>created_after</code> is returned. The value can be <code>today</code>, <code>yesterday</code>, <code>last_7_days</code>, <code>this_month</code>, <code>last_month</code>, or a custom time specified in <a href="http://www.gnu.org/software/tar/manual/html_node/Date-input-formats.html">GNU Date Input Syntax</a> format.</li>
</ul>
<p><strong>NOTE:</strong> The range between created_after and created_before cannot exceed 1 year. When created_before is not specified, the current date is used to gauge the interval.</p>
<h1 id="using-the-export-api">Using the Export API</h1>
<hr />
<h1 id="create">Create</h1>
<pre><code>/api/export/version/3/do/create
</code></pre>

<p>Used to create an export of an object and procedure.</p>
<h2 id="post">POST</h2>
<h3 id="request-body">Request Body</h3>
<p>Content-Type must be <code>application/json</code>.</p>
<p>Input Representation</p>
<ul>
<li><strong>object</strong>: Specifies which object to export. Currently only "visitorActivity" is supported.</li>
<li><strong>procedure</strong>: The procedure to execute. A procedure is a query and execution plan used to retrieve data. Each object has a different set of procedures. See the <a href="#procedures">Procedures</a> section for available procedures.<ul>
<li><strong>name</strong>: The name of the procedure.</li>
<li><strong>arguments</strong>: Arguments used to manipulate the behavior of the procedure. These arguments are specific to the procedure. See the documentation for the procedure to see which arguments apply.</li>
</ul>
</li>
</ul>
<pre><code class="json">{
    &quot;object&quot;: string,
    &quot;procedure&quot;: {
        &quot;name&quot;: string,
        &quot;arguments&quot;: {
            &quot;argument name&quot;: argument value,
            // additional arguments...
        }
    }
}
</code></pre>

<h3 id="success">Success</h3>
<p>Status Code: 200</p>
<p>Output Representation</p>
<ul>
<li><strong>id</strong>: The ID of the export. ID is used to check the status of the export.</li>
<li><strong>state</strong>: The state of the export. Displays "Waiting" when the export has been queued for processing, "Processing" when the server is working on the export and "Complete" when the export has completed. See <a href="#export-state">Export State</a> enum.</li>
<li><strong>isExpired</strong>: Indicates that the export has expired. When an export has expired, this will return <code>true</code> and no data associated to the export can be downloaded.</li>
<li><strong>resultRefs</strong>: (Optional) This property appears when an export is complete, and it contains a list of URLS to CSV files available for download. If there is no data associated with the export, this property is absent. If there is only a single CSV file available for download, this property is a string containing the URL to download the file. If there are multiple CSV files, resultRefs is an array of URLs.</li>
<li><strong>createdAt</strong>: The date and time the export was created in the timezone of the user making the request.</li>
<li><strong>updatedAt</strong>: The date and time the export was updated in the timezone of the user making the request.</li>
</ul>
<pre><code class="json">{
    &quot;export&quot;: {
        &quot;id&quot;: int,
        &quot;state&quot;: string,
        &quot;isExpired&quot;: boolean,
        &quot;resultRefs&quot;: string OR string[],
        &quot;createdAt&quot;: datetime,
        &quot;updatedAt&quot;: datetime
    }
}
</code></pre>

<h3 id="errors">Errors</h3>
<ul>
<li>Status Code: 4xx</li>
<li>Error codes: See <a href="/kb/error-codes-messages">Error Codes</a></li>
</ul>
<h3 id="example">Example</h3>
<p>This is a request to execute the visitor activity procedure named <code>filter_by_created_at</code>, which retrieves all visitor activity data where the <code>created_at</code> value is between two dates. In this example, the data will be retrieved from December 25, 2019 to December 25, 2020.</p>
<pre><code>POST /api/export/version/3/do/create
HOST: pi.pardot.com
Content-Type: application/json
Authorization: Pardot user_key=U,api_key=A
</code></pre>

<pre><code class="json">{
    &quot;object&quot;: &quot;visitorActivity&quot;,
    &quot;procedure&quot;: {
        &quot;name&quot;: &quot;filter_by_created_at&quot;,
        &quot;arguments&quot;: {
            &quot;created_after&quot;: &quot;2019-12-25 10:00:00&quot;,
            &quot;created_before&quot;: &quot;2020-12-25 24:59:59&quot;
        }
    }
}
</code></pre>

<p>After sending the request as a <code>POST</code>, the response will be the following. From this response, the export has been queued for execution but has not started nor completed. We suggest waiting a few minutes before checking the Read endpoint for the new status.</p>
<pre><code class="json">{
    &quot;id&quot;: 201917,
    &quot;state&quot;: &quot;Waiting&quot;,
    &quot;isExpired&quot;: false
}
</code></pre>

<hr />
<h1 id="read">Read</h1>
<pre><code>/api/export/version/3/do/read/id/{id}
</code></pre>

<p>Used to retrieve the status of the export. Once an export is complete, the links to download the results are available in the result body.</p>
<h2 id="get">GET</h2>
<h3 id="params">Params</h3>
<p><strong>{id}</strong>: The ID of the export.</p>
<h3 id="success_1">Success</h3>
<p>Status Code: 200</p>
<p>Output Representation</p>
<ul>
<li><strong>id</strong>: The ID of the export. This ID is used to check the status of the export.</li>
<li><strong>state</strong>: The state of the export. Displays "Waiting" when the export has been queued for processing, "Processing" when the server is working on the export and "Complete" when the export is completed. See <a href="#export-state">Export State</a> enum.</li>
<li><strong>isExpired</strong>: Indicates that the export has expired. After an export has expired, this will return true and no data associated with the export can be downloaded.</li>
<li><strong>resultRefs</strong>: (Optional) This property appears only when the export has completed and contains a list of URLS to CSV files available for download. If there is no data associated with the export, this property is absent. If there is only a single CSV file available for download, resultRefs is a string containing the URL to download the file. If there are multiple CSV files, resultRefs is an array of URLs. The order of the URLs in the array is not significant.</li>
<li><strong>createdAt</strong>: The date and time the export was created in the timezone of the user making the request.</li>
<li><strong>updatedAt</strong>: The date and time the export was updated in the timezone of the user making the request.</li>
</ul>
<pre><code class="json">{
    &quot;export&quot;: {
        &quot;id&quot;: int,
        &quot;state&quot;: string,
        &quot;isExpired&quot;: boolean,
        &quot;resultRefs&quot;: string OR string[],
        &quot;createdAt&quot;: datetime,
        &quot;updatedAt&quot;: datetime
    }
}
</code></pre>

<h3 id="errors_1">Errors</h3>
<ul>
<li>Status Code: 4xx</li>
<li>Error codes: See <a href="../../error-codes-messages/">Error Codes</a></li>
</ul>
<h3 id="example_1">Example</h3>
<p>After calling the Create endpoint, the ID of the export will be given in the response. This ID is used in the URL to call the Read endpoint.</p>
<pre><code>GET /api/export/version/3/do/read/id/201917
HOST: pi.pardot.com
Content-Type: application/json
Authorization: Pardot user_key=U,api_key=A
</code></pre>

<p>If the export is waiting to be processed, <code>state</code> is "Waiting", like the following example.</p>
<pre><code class="json">{
    &quot;id&quot;: 201917,
    &quot;state&quot;: &quot;Waiting&quot;,
    &quot;isExpired&quot;: false
}
</code></pre>

<p>If the export is finished, <code>state</code> is "Complete" and <code>resultRefs</code> contains URLs to download the CSV files.</p>
<pre><code class="json">{
    &quot;id&quot;: 201917,
    &quot;state&quot;: &quot;Complete&quot;,
    &quot;isExpired&quot;: false,
    &quot;resultRefs&quot;: [
        &quot;https://www.pardot.com/api/export/version/3/do/downloadResults/id/201917/file/23191&quot;,
        &quot;https://www.pardot.com/api/export/version/3/do/downloadResults/id/201917/file/20201&quot;,
        &quot;https://www.pardot.com/api/export/version/3/do/downloadResults/id/201917/file/20102&quot;
    ]
}
</code></pre>

<hr />
<h1 id="query">Query</h1>
<pre><code>/api/export/version/3/do/query
</code></pre>

<p>Used by administrators to retrieve a list of exports and their status. A user must have the “Admin &gt; Exports &gt; View” ability to execute this endpoint.</p>
<h2 id="get_1">GET</h2>
<h3 id="params_1">Params</h3>
<ul>
<li><strong>created_after</strong>: (Optional) Filters the results to return only exports that were created after the specified time.</li>
<li><strong>created_before</strong>: (Optional) Filters the results to return only exports that were created before the specified time.</li>
<li><strong>updated_after</strong>: (Optional) Filters the results to return only exports that were updated after the specified time.</li>
<li><strong>updated_before</strong>: (Optional) Filters the results to return only exports that were updated before the specified time.</li>
<li><strong>status</strong>: (Optional) Filters the results to return exports in the given state. Allowed values are "Complete", "Failed", "Processing", or "Waiting".</li>
<li><strong>object</strong>: (Optional) Filters the results to return exports for the specified object.</li>
<li><strong>sort_by</strong>: (Optional) Sorts the results by the specified property value. Allowed values are "id", "created_at", or "updated_at". If not specified, the results are returned by "id" in "descending" order.</li>
<li><strong>sort_order</strong>: (Optional) Used with <code>sort_by</code>. Adjusts the direction of the sort using the values "ascending" or "descending". If not specified, the results are in "descending" order.</li>
</ul>
<h3 id="success_2">Success</h3>
<p>Status Code: 200</p>
<p>Output Representation</p>
<ul>
<li><strong>result</strong>: A collection of exports<ul>
<li><strong>total_results</strong>: The total number of results matching the filter.</li>
<li><strong>export</strong>: A collection of exports. If there are no results, this property is omitted. If there is a single result, this is an object. If there are multiple results, this is an array of results.<ul>
<li><strong>id</strong>: The ID of the export. This ID is used to check the status of the export.</li>
<li><strong>state</strong>: The state of the export. Displays "Waiting" when the export has been queued for processing, "Processing" when the server is working on the export and "Complete" when the export has completed. See <a href="#export-state">Export State</a> enum.</li>
<li><strong>isExpired</strong>: Indicates that the export has expired. After an export has expired, this will return <code>true</code> and no data associated with the export can be downloaded.</li>
<li><strong>createdAt</strong>: The date and time the export was created in the timezone of the user making the request.</li>
<li><strong>updatedAt</strong>: The date and time the export was updated in the timezone of the user making the request.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Note that the export representation returned in query doesn’t contain <code>resultRefs</code>. Use the read endpoint for the export to get the full export representation.</p>
<pre><code class="json">{
    &quot;result&quot;: {
        &quot;total_results&quot;: int,
        &quot;export&quot;: [
            {
                &quot;id&quot;: int,
                &quot;state&quot;: string,
                &quot;isExpired&quot;: boolean,
                &quot;resultRefs&quot;: string OR string[],
                &quot;createdAt&quot;: datetime,
                &quot;updatedAt&quot;: datetime
            }
        ]
    }
}
</code></pre>

<h3 id="errors_2">Errors</h3>
<ul>
<li>Status Code: 4xx</li>
<li>Error codes: See <a href="../../error-codes-messages/">Error Codes</a></li>
</ul>
<hr />
<h1 id="download-results">Download Results</h1>
<p>The URLs retrieved from the Read endpoint can be used to download the results of the export. A failure occurs when attempting to download any results from an expired export. See <a href="#expiration">Expiration</a> for more information.</p>
<h2 id="get_2">GET</h2>
<h3 id="success_3">Success</h3>
<p>The data represented in CSV format. See the <a href="#csv-file-formatting">CSV Format</a> section for more information.</p>
<h3 id="errors_3">Errors</h3>
<ul>
<li>Status code: 4xx</li>
<li>Error codes: See <a href="../../error-codes-messages/">Error Codes</a></li>
</ul>
<hr />
<h1 id="enums">Enums</h1>
<h2 id="export-state">Export State</h2>
<ul>
<li>"Waiting": The export is waiting to be processed.</li>
<li>"Processing": A server has started processing the export.</li>
<li>"Complete": The export is complete and the results are available for download.</li>
<li>"Failed": A fatal error has occurred and the data can’t be retrieved. Try executing the export again. If the error occurs again, contact support.</li>
</ul>
                
            </div>
        </div>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form id="content_search">
                    <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" name="q" autocomplete="off" autofocus>
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/prettify-1.0.min.js"></script>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>
        <script src="../../../search/main.js" defer></script>
    </body>
</html>